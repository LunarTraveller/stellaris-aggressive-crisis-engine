# Defaults for solar system strategic value scoring.
@acemod_var_solar_system_target_value_tier1 = 10
@acemod_var_solar_system_target_value_tier2 = 100
@acemod_var_solar_system_target_value_tier3 = 200
@acemod_var_solar_system_target_value_tier4 = 400
# Prevents ACEMOD from piloting marked fleets.
# Scope: fleet ship
acemod_set_fleet_piloted_exclusion_on = {
	set_variable = {
		which = acemod_var_fleet_piloted_exclusion
		value = 1
	}
}

acemod_set_fleet_piloted_exclusion_off = {
	set_variable = {
		which = acemod_var_fleet_piloted_exclusion
		value = 0
	}
}

# Scope: solar_system
acemod_recalculate_solar_system_target_value = {
	set_variable = {
		which = acemod_var_solar_system_target_value
		value = 0
	}
	acemod_calculate_solar_system_target_value = yes
}

# Scope: solar_system
acemod_calculate_solar_system_target_value = {
	if = {
		limit = {
			exists = owner
		}
		change_variable = {
			which = acemod_var_solar_system_target_value
			value = @acemod_var_solar_system_target_value_tier1
		}
	}
	every_system_planet = {
		limit = {
			exists = owner
			OR = {
				is_colony = yes
				is_under_colonization = yes
			}
		}
		prev = {
			change_variable = {
				which = acemod_var_solar_system_target_value
				value = @acemod_var_solar_system_target_value_tier2
			}
		}
		if = {
			limit = {
				is_capital = yes
			}
			prev = {
				change_variable = {
					which = acemod_var_solar_system_target_value
					value = @acemod_var_solar_system_target_value_tier4
				}
			}
		}
	}
}
